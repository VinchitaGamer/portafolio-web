// Script de prueba para verificar funcionamiento del panel administrativo
// Ejecuta este cÃ³digo en la consola del navegador cuando estÃ©s en la pÃ¡gina del panel administrativo

console.log('ğŸ”§ Iniciando pruebas del panel administrativo...');

// Test 1: Verificar que el objeto admin existe
if (typeof window.admin !== 'undefined') {
    console.log('âœ… Objeto admin encontrado');

    // Test 2: Verificar mÃ©todos bÃ¡sicos
    const requiredMethods = ['switchSection', 'loadDashboard', 'showNotification', 'saveAll'];
    let methodsOk = true;

    requiredMethods.forEach(method => {
        if (typeof window.admin[method] === 'function') {
            console.log(`âœ… MÃ©todo ${method} disponible`);
        } else {
            console.log(`âŒ MÃ©todo ${method} no encontrado`);
            methodsOk = false;
        }
    });

    if (methodsOk) {
        console.log('âœ… Todos los mÃ©todos bÃ¡sicos estÃ¡n disponibles');
    }

    // Test 3: Verificar autenticaciÃ³n
    if (auth && auth.getCurrentUser()) {
        console.log('âœ… Usuario autenticado:', auth.getCurrentUser().name);
    } else {
        console.log('âŒ No hay usuario autenticado');
    }

    // Test 4: Verificar datos del proyecto
    if (window.admin.projects && Object.keys(window.admin.projects).length > 0) {
        console.log('âœ… Proyectos cargados:', Object.keys(window.admin.projects).length);
    } else {
        console.log('âŒ No hay proyectos cargados');
    }

    // Test 5: Probar navegaciÃ³n
    console.log('ğŸ”„ Probando navegaciÃ³n...');
    try {
        window.admin.switchSection('dashboard');
        console.log('âœ… NavegaciÃ³n al dashboard funciona');

        setTimeout(() => {
            window.admin.switchSection('projects');
            console.log('âœ… NavegaciÃ³n a proyectos funciona');
        }, 1000);

    } catch (error) {
        console.log('âŒ Error en navegaciÃ³n:', error.message);
    }

    // Test 6: Probar notificaciones
    console.log('ğŸ”„ Probando notificaciones...');
    try {
        window.admin.showNotification('Prueba de notificaciÃ³n', 'success');
        console.log('âœ… Sistema de notificaciones funciona');
    } catch (error) {
        console.log('âŒ Error en notificaciones:', error.message);
    }

} else {
    console.log('âŒ Objeto admin no encontrado. Revisa que el archivo admin.js estÃ© cargado correctamente.');
}

// Test 7: Verificar elementos del DOM
const requiredElements = [
    '.admin-sidebar',
    '.admin-main',
    '#dashboard-section',
    '.nav-item'
];

requiredElements.forEach(selector => {
    if (document.querySelector(selector)) {
        console.log(`âœ… Elemento ${selector} encontrado en el DOM`);
    } else {
        console.log(`âŒ Elemento ${selector} no encontrado en el DOM`);
    }
});

console.log('ğŸ”§ Pruebas completadas. Revisa la consola para ver los resultados.');
